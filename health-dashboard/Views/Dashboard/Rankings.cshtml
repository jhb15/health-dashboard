@using System.Globalization;
@using X.PagedList.Mvc.Common;
@using X.PagedList.Mvc.Core;
@using X.PagedList.Mvc;
@using X.PagedList;

<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel tile">
            <div class="x_title">
                <h2>Rankings</h2>
                <div>@Model.Message</div>
                <br />
                <div class="clearfix"></div>
                </div>
                @if (Model.RenderTables)
                {
                    <div class="x_content">
                        <select asp-items="@(new SelectList(Model.ActivityTypes, "Id", "Name"))" id="activityTypeDDL" onchange="updateActivity()">Activity Type</select>
                        @{var i = 0;}
                            <table id="" class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Rank</th>
                                        <th>User</th>
                                        <th>Total (Calories Burnt)</th>
                                        <th>Activity Type</th>
                                    </tr>
                                </thead>
                                @foreach (HealthActivity ca in Model.Activities)
                                {
                                        <tbody>
                                            @{i++;}
                                            <tr>
                                                <td>#@i</td>
                                                <td>@ca.userId</td>
                                                <td>@ca.caloriesBurnt</td>
                                                <td>@ca.activityTypeId</td>
                                            </tr>
                                        </tbody>
                                }
                            </table>
                        @Html.PagedListPager((IPagedList)Model.Activities, page => Url.Action("RemoveData", new { page }))
                    </div>
                }
        </div>
    </div>
</div>

<script>
    function updateActivity() {
        document.getElementById("activityTypeDDL").value;
    }
</script>